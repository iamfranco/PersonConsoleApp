@startuml "PersonApp"
skinparam ClassAttributeIconSize 0

class PersonController {
    - personContext : PersonContextBase
    - personCsvParser : IPersonCsvParser

    + PersonController(personContext : PersonContextBase, \n\
        personCsvParser : PersonContextBase)

    + LoadPeopleFromCsvFile(filepath : string) : void

    + GetPeopleWithCompanyNameContainingEsq() : List<Person>
    + GetPeopleWithCountyDerbyshire() : List<Person>
    + GetPeopleWithThreeDigitHouseNumber() : List<Person>
    + GetPeopleWithUrlLongerThan35Characters() : List<Person>
    + GetPeopleWithSingleDigitPostcodeArea() : List<Person>
    + GetPeopleWithFirstPhoneNumberLargerThanSecondPhoneNumber() : List<Person>
}

abstract PersonContextBase <<abstract>> {
    {abstract} + People : List<Person>

    {abstract} + AddPeople(people : List<Person>) : void
}

class PersonContext {
    + People : List<Person>

    + AddPeople(people : List<Person>) : void
}

interface IPersonCsvParser <<interface>> {
    + Parse(filepath : string) : List<Person>
}

class SimplePersonCsvParser {
    + Parse(filepath : string) : List<Person>
}

class Person {
    + Id : int
    + FirstName : string
    + LastName : string
    + Comapny : string
    + Address : string
    + City : string
    + County : string
    + Postal : string
    + Phone1 : string
    + Phone2 : string
    + Email : string
    + Web : string
}

PersonController --> PersonContextBase
PersonController --> IPersonCsvParser

PersonContextBase <|-- PersonContext
PersonContextBase ---> Person

IPersonCsvParser <|.. SimplePersonCsvParser
IPersonCsvParser ---> Person

@enduml